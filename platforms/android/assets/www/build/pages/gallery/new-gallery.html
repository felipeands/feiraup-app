<ion-navbar *navbar>
  <button menuToggle>
    <ion-icon name="menu"></ion-icon>
  </button>
  <ion-title>
    Nova galeria
  </ion-title>
</ion-navbar>

<ion-content padding class="gallery">

  <form #newGalleryForm="ngForm">

    <ion-list>
      <ion-item>
        <ion-label floating>Nome da galeria</ion-label>
        <ion-input type="text" [(ngModel)]="galleryModel" ngControl="gallery" #gallery required></ion-input>
      </ion-item>
      <ion-item>
        <ion-label floating>Andares</ion-label>
        <ion-input type="text" [(ngModel)]="floorsModel" ngControl="floors" #floors></ion-input>
      </ion-item>
    </ion-list>

  </form>

  <button (click)="onNewMark()" type="submit" [disabled]="!mapping || !updated || updating" secondary><ion-icon name="add-circle"> Adicionar</ion-icon></button>

  <button (click)="onUpdateLocation()" type="submit" [disabled]="!mapping || updating" primary><ion-icon name="refresh-circle"> Atualizar</ion-icon></button>

  <p>Minha Localização. Lat: {{currentLat}}, Lng: {{currentLng}}</p>

  <button (click)="onStart()" type="submit" [disabled]="mapping || updating" block large>COMEÇAR</button>

  <button (click)="onFinish()" type="submit" [disabled]="!mapping" block large>FINALIZAR</button>

  <div id="map"></div>

  <ion-list>
    <ion-item *ngFor="#position of positions.slice().reverse()">{{position.latitude}}, {{position.longitude}}</ion-item>
  </ion-list>

</ion-content>